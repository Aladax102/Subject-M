    :root{
      --black:#000000;
      --paper:#e8e8e8;
      --muted:#bdbdbd;
      --accent:#9b30ff;
      --card-border: rgba(230,230,230,0.06);

      --container-w: 640px;
      --base-font-size: 16px;

      --grain-opacity: 0.09;
      --noise-opacity: 0.12;
      --scanline-opacity: 0.06;
    }

    /* Reset & base */
    *{box-sizing:border-box}
    html,body{height:100%;}
    body{
      margin:0;
      background:var(--black);
      color:var(--paper);
      font-family: 'IBM Plex Mono', monospace;
      font-size:var(--base-font-size);
      -webkit-font-smoothing:antialiased;
      -moz-osx-font-smoothing:grayscale;
      overflow:auto;
    }

    /* center container */
    .wrap{
      min-height:100vh;
      display:flex;
      align-items:center;
      justify-content:center;
      padding:28px;
    }

    .card{
      width:100%;
      max-width:var(--container-w);
      background: linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));
      border:1px solid var(--card-border);
      box-shadow: 0 12px 40px rgba(0,0,0,0.6);
      padding:28px 28px 32px 28px;
      position:relative;
      overflow:visible;
      display:flex;
      flex-direction:column;
      align-items:stretch;
      image-rendering: pixelated;
    }

    /* header / legend */
    .legend{
      font-size:0.875rem; /* 14px */
      color:var(--muted);
      margin-bottom:12px;
      font-family: 'IBM Plex Mono', monospace;
      text-transform:none;
      letter-spacing:0.06em;
    }

    h1{
      font-family: 'Playfair Display', serif;
      font-size:1.95rem; /* ~31px */
      margin:0;
      color:var(--paper);
      letter-spacing:0.02em;
      margin-bottom:6px;
      text-transform:uppercase;
    }
    h2{
      font-family: 'IBM Plex Mono', monospace;
      font-size:0.95rem;
      color:var(--muted);
      margin:0 0 18px 0;
      font-weight:400;
      letter-spacing:0.04em;
    }

    /* frequency area */
    .freq-wrap{display:flex;justify-content:center;width:100%; margin-bottom:10px}
    .freq-box{
      background:transparent;
      color:var(--paper);
      width:260px;height:56px;
      border-radius:6px;
      padding:6px 10px;
      display:flex;align-items:center;justify-content:center;
      box-shadow: inset 0 -6px 18px rgba(0,0,0,0.45);
      border:1px solid rgba(255,255,255,0.04);
      backdrop-filter: blur(2px);
      transition: transform .18s ease, box-shadow .18s ease;
    }
    .freq-box:active, .freq-box:focus-within{ transform: translateY(1px); box-shadow: inset 0 -8px 20px rgba(0,0,0,0.55) }

    .freq-box input{
      width:100%;border:0;background:transparent;
      font-size:1.3rem; /* ~20.8px */
      font-weight:700;
      font-family: 'IBM Plex Mono', monospace;
      letter-spacing:2px;
      outline:none;color:var(--accent);
      text-shadow:0 0 6px rgba(155,48,255,0.10);
      caret-color:var(--paper);
      text-align:center;
      padding:4px 2px;
    }

    /* transcription / text block */
    .transcription{
      margin-top:16px;
      padding:16px;
      background:linear-gradient(180deg, rgba(255,255,255,0.01), rgba(255,255,255,0.005));
      border-top:1px dashed rgba(255,255,255,0.02);
      max-height:58vh;
      overflow:auto;
      display:none;
      font-size:0.98rem; /* ~15.7px */
      line-height:1.62;
      color:var(--paper);
      width:100%;
      border-radius:4px;
    }
    .transcription.show{display:block}

    .typed-line{
      white-space:pre-wrap;
      font-family:'IBM Plex Mono', monospace;
      margin:8px 0;
    }

    /* overlay layers: grain + noise + scanlines (use absolute to sit on top of background but behind content) */
    .overlay{
      pointer-events:none;
      position:fixed;
      inset:0;
      z-index:1;
      image-rendering: pixelated;
    }
    /* both overlays sit below card content but above page background */
    .grain{
      mix-blend-mode:screen; /* light grain on dark bg */
      opacity:var(--grain-opacity);
      background-repeat:repeat;
      background-position:0 0;
      z-index:1;
    }
    .noise{
      mix-blend-mode:overlay;
      opacity:var(--noise-opacity);
      background-repeat:repeat;
      background-position: center;
      z-index:2;
    }
    .scan{
      pointer-events:none;
      position:fixed;
      inset:0;
      z-index:3;
      background-image: repeating-linear-gradient(180deg,
        rgba(255,255,255,var(--scanline-opacity)) 0px,
        rgba(255,255,255,var(--scanline-opacity)) 1px,
        rgba(255,255,255,0) 1px,
        rgba(255,255,255,0) 3px
      );
      background-size: 100% 3px;
      mix-blend-mode: multiply;
      opacity:0.6;
      animation:scanFlicker 3s linear infinite;
    }

    @keyframes scanFlicker{
      0%{opacity:0.50}
      25%{opacity:0.62}
      50%{opacity:0.42}
      75%{opacity:0.66}
      100%{opacity:0.50}
    }

    /* subtle glitch text effect when typing (kept simple) */
    .glitch-text{position:relative; display:inline-block}
    .glitch-text::before, .glitch-text::after{
      content:attr(data-text);
      position:absolute;left:0;top:0;width:100%;overflow:hidden;opacity:0.85;
      clip-path:polygon(0 0,100% 0,100% 50%,0 50%);
      pointer-events:none;
    }
    .glitch-text::before{transform:translate(1px,-1px);filter:blur(0.3px);color:var(--accent);opacity:0.9}
    .glitch-text::after{transform:translate(-1px,1px);filter:blur(0.6px);opacity:0.8}

    /* nicer internal scroll */
    .transcription::-webkit-scrollbar{height:8px;width:8px}
    .transcription::-webkit-scrollbar-thumb{background:rgba(255,255,255,0.06);border-radius:6px}

    /* responsive */
    @media (max-width:640px){
      :root{ --container-w:92vw; --base-font-size:15px; }
      .freq-box{ width:86%; height:52px }
      .freq-box input{ font-size:1.1rem }
      h1{ font-size:1.45rem }
    }